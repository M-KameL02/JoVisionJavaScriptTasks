<!DOCTYPE html>
<html>
<head>
    <title>Get IP</title>
</head>
<body>
    <button id="getIpButton">Get IP</button>

    <script>
        try{
        document.getElementById("getIpButton").addEventListener("click", function() {
            let fetchRes = fetch("https://api.ipify.org/?format=json").then(res =>{
                if(!res.ok)
            {
                throw new Error("Network response was not work");
            }
            return res.json();
            }).then(d =>{
                document.getElementById("getIpButton").textContent=d.ip;
            })
            //  fetchRes.then(res =>  res.json()).then(d => {
                    
            //         document.getElementById("getIpButton").textContent = d.ip;
            //     });
        });
    }
    catch(err)
    {
        document.getElementById("getIpButton").innerHTML = err.message;
    }
    </script>
</body>
</html>

